Logging final pool reserves before tests begin...
Pool 1 (0.01%) FINAL | L: 126822284020376112688047 | Reserves: 26.8 Token0, 13214.825525855908934514 Token1
Pool 2 (0.05%) FINAL | L: 32453373440993689742288 | Reserves: 50.8 Token0, 49299.284532628140753299 Token1
Pool 3 (0.3%) FINAL | L: 2770696620268661612532 | Reserves: 2.354803181482285274 Token0, 2831.655567711820509859 Token1
Pool 4 (1%) FINAL | L: 42250292038697277067543 | Reserves: 61.0 Token0, 69305.48784096407814895 Token1
================================================

=== SUMMARY: BEFORE vs AFTER (Test Pools) ===
| INITIAL STATE | FINAL STATE
-----------------------------+----------------------+----------------------
Pool 1 Liquidity | 126822284020376112688047 | 126822284020376112688047
Pool 3 Liquidity | 2770696620268661612532 | 2770696620268661612532
Pool 1 Fee | 0.01% | 0.01%
Pool 3 Fee | 0.3% | 0.3%
Pool 1 Tick | 69047 | 69048  
Pool 3 Tick | 69115 | 69061  
Pool 1 Price (1 WETH) | 996.617821310673510041 | 996.735582192664680156 TestToken
Pool 3 Price (1 WETH) | 1003.405195746090962019 | 998.003545919258836652 TestToken
Price Difference (%) | 0.6800 | 0.1200  
Gap Convergence | 82.35% of initial gap closed
Total Profit | 0.000219372776315721 WETH
Total Amount Swapped | 0.237101078720366892 WETH | Iterations: 3
-----------------------------+----------------------+----------------------

Logging final pool reserves before tests begin...
Pool 1 (0.01%) FINAL | L: 126822284020376112688047 | Reserves: 26.8 Token0, 13214.825525855908934514 Token1
Pool 2 (0.05%) FINAL | L: 32453373440993689742288 | Reserves: 50.8 Token0, 49299.284532628140753299 Token1
Pool 3 (0.3%) FINAL | L: 2770696620268661612532 | Reserves: 1.480417619485377427 Token0, 3720.544456600709398748 Token1
Pool 4 (1%) FINAL | L: 42250292038697277067543 | Reserves: 61.0 Token0, 69305.48784096407814895 Token1
=== SUMMARY: BEFORE vs AFTER (Test Pools) ===
| INITIAL STATE | FINAL STATE
-----------------------------+----------------------+----------------------
Pool 1 Liquidity | 126822284020376112688047 | 126822284020376112688047
Pool 3 Liquidity | 2770696620268661612532 | 2770696620268661612532
Pool 1 Fee | 0.01% | 0.01%
Pool 3 Fee | 0.3% | 0.3%
Pool 1 Tick | 69047 | 69052  
Pool 3 Tick | 69315 | 69068  
Pool 1 Price (1 WETH) | 996.617821310673510041 | 997.161562566873765416 TestToken
Pool 3 Price (1 WETH) | 1023.771347020976414676 | 998.702355277702553464 TestToken
Price Difference (%) | 2.7200 | 0.1500  
Gap Convergence | 94.49% of initial gap closed
Total Profit | 0.012100818619524968 WETH
Total Amount Swapped | 1.083335720741884794 WETH | Iterations: 6
-----------------------------+----------------------+----------------------

---

Logging final pool reserves before tests begin...
Pool 1 (0.01%) FINAL | L: 126822284020376112688047 | Reserves: 26.8 Token0, 13214.825525855908934514 Token1
Pool 2 (0.05%) FINAL | L: 32453373440993689742288 | Reserves: 50.8 Token0, 49299.284532628140753299 Token1
Pool 3 (0.3%) FINAL | L: 2770696620268661612532 | Reserves: 1.049747894239883303 Token0, 4164.988901045153843192 Token1
Pool 4 (1%) FINAL | L: 42250292038697277067543 | Reserves: 61.0 Token0, 69305.48784096407814895 Token1

=== SUMMARY: BEFORE vs AFTER (Test Pools) ===
| INITIAL STATE | FINAL STATE
-----------------------------+----------------------+----------------------
Pool 1 Liquidity | 126822284020376112688047 | 126822284020376112688047
Pool 3 Liquidity | 2770696620268661612532 | 2770696620268661612532
Pool 1 Fee | 0.01% | 0.01%
Pool 3 Fee | 0.3% | 0.3%
Pool 1 Tick | 69047 | 69054  
Pool 3 Tick | 69415 | 69070  
Pool 1 Price (1 WETH) | 996.617821310673510041 | 997.377862002732212584 TestToken
Pool 3 Price (1 WETH) | 1034.031153256831151578 | 998.901805271315080367 TestToken
Price Difference (%) | 3.7500 | 0.1500  
Gap Convergence | 96.00% of initial gap closed
Total Profit | 0.024428776481607716 WETH
Total Amount Swapped | 1.506521662732882045 WETH | Iterations: 7
-----------------------------+----------------------+----------------------

---

Logging final pool reserves before tests begin...
Pool 1 (0.01%) FINAL | L: 126822284020376112688047 | Reserves: 26.8 Token0, 13214.825525855908934514 Token1
Pool 2 (0.05%) FINAL | L: 32453373440993689742288 | Reserves: 50.8 Token0, 49299.284532628140753299 Token1
Pool 3 (0.3%) FINAL | L: 2770696620268661612532 | Reserves: 0.411715990973320993 Token0, 4831.655567711820509859 Token1
Pool 4 (1%) FINAL | L: 42250292038697277067543 | Reserves: 61.0 Token0, 69305.48784096407814895 Token1
================================================

=== SUMMARY: BEFORE vs AFTER (Test Pools) ===
| INITIAL STATE | FINAL STATE
-----------------------------+----------------------+----------------------
Pool 1 Liquidity | 126822284020376112688047 | 126822284020376112688047
Pool 3 Liquidity | 2770696620268661612532 | 2770696620268661612532
Pool 1 Fee | 0.01% | 0.01%
Pool 3 Fee | 0.3% | 0.3%
Pool 1 Tick | 69047 | 69058  
Pool 3 Tick | 69564 | 69073  
Pool 1 Price (1 WETH) | 996.617821310673510041 | 997.702337940842040715 TestToken
Pool 3 Price (1 WETH) | 1049.516775858628270147 | 999.201805428941462992 TestToken
Price Difference (%) | 5.3000 | 0.1500  
Gap Convergence | 97.17% of initial gap closed
Total Profit | 0.050737084006156194 WETH
Total Amount Swapped | 2.133272528709829196 WETH | Iterations: 8
-----------------------------+----------------------+----------------------

-----------------------------+----------------------+----------------------
-----------------------------+----------------------+----------------------
-----------------------------+----------------------+----------------------
-----------------------------+----------------------+----------------------
-----------------------------+----------------------+----------------------

Below are tests from when swap chunk size was heuristic and based on an initial sqrt price difference and then
gradually lowered itself depending on the percentage of profit dropping

Pool 1 (0.01%) raw liquidity (L): 126822284020376112688047 | Reserves: 20.0 Token0, 20002.637529486396958612 Token1
Pool 2 (0.05%) raw liquidity (L): 32453373440993689742288 | Reserves: 50.0 Token0, 50098.262020981354380197 Token1
Pool 3 (0.3%) raw liquidity (L): 22165572962149292900260 | Reserves: 20.0 Token0, 21428.844986800098728491 Token1
Pool 4 (1%) raw liquidity (L): 42250292038697277067543 | Reserves: 60.0 Token0, 70294.754815620129801766 Token1

=== SUMMARY: BEFORE vs AFTER ===
| INITIAL STATE | FINAL STATE
-----------------------------+----------------------+----------------------
Pool 1 Liquidity | 126822284020376112688047 | 126822284020376112688047
Pool 3 Liquidity | 22165572962149292900260 | 22165572962149292900260
Pool 1 Fee | 0.01% | 0.01%
Pool 3 Fee | 0.3% | 0.3%
Pool 1 Tick | 69047 | 69062  
Pool 3 Tick | 69188 | 69101  
Pool 1 Price (1 WETH) | 0.000000000000000996 | 0.000000000000000998
Pool 3 Price (1 WETH) | 0.00000000000000101 | 0.000000000000001002
Price Difference (%) | 1.4276 | 0.3891  
Gap Convergence | 72.74% of initial gap closed
Total Profit | 0.01822769838878932 WETH
Total Amount Swapped | 3.067533536230075132 WETH | Iterations: 44
-----------------------------+----------------------+----------------------
âœ” Should execute iterative arb on TEST pools (WETH/TestToken)

---

Pool 1 (0.01%) raw liquidity (L): 95116713015282084516035 | Reserves: 15.0 Token0, 15001.978147114797718959 Token1
Pool 2 (0.05%) raw liquidity (L): 32453373440993689742288 | Reserves: 50.0 Token0, 50098.262020981354380197 Token1
Pool 3 (0.3%) raw liquidity (L): 22165572962149292900260 | Reserves: 20.0 Token0, 21428.844986800098728491 Token1
Pool 4 (1%) raw liquidity (L): 42250292038697277067543 | Reserves: 60.0 Token0, 70294.754815620129801766 Token1

=== SUMMARY: BEFORE vs AFTER ===
| INITIAL STATE | FINAL STATE
-----------------------------+----------------------+----------------------
Pool 1 Liquidity | 95116713015282084516035 | 95116713015282084516035
Pool 3 Liquidity | 22165572962149292900260 | 22165572962149292900260
Pool 1 Fee | 0.01% | 0.01%
Pool 3 Fee | 0.3% | 0.3%
Pool 1 Tick | 69035 | 69057  
Pool 3 Tick | 69188 | 69095  
Pool 1 Price (1 WETH) | 0.000000000000000995 | 0.000000000000000997
Pool 3 Price (1 WETH) | 0.00000000000000101 | 0.000000000000001001
Price Difference (%) | 1.5420 | 0.3771  
Gap Convergence | 75.54% of initial gap closed
Total Profit | 0.021132742092581605 WETH
Total Amount Swapped | 3.276683550063943891 WETH | Iterations: 47
-----------------------------+----------------------+----------------------

---

Pool 1 (0.01%) raw liquidity (L): 19023342603056416903207 | Reserves: 3.0 Token0, 3000.395629422959543792 Token1
Pool 2 (0.05%) raw liquidity (L): 32453373440993689742288 | Reserves: 50.0 Token0, 50098.262020981354380197 Token1
Pool 3 (0.3%) raw liquidity (L): 22165572962149292900260 | Reserves: 20.0 Token0, 21428.844986800098728491 Token1
Pool 4 (1%) raw liquidity (L): 42250292038697277067543 | Reserves: 60.0 Token0, 70294.754815620129801766 Token1

=== SUMMARY: BEFORE vs AFTER ===
| INITIAL STATE | FINAL STATE
-----------------------------+----------------------+----------------------
Pool 1 Liquidity | 19023342603056416903207 | 19023342603056416903207
Pool 3 Liquidity | 22165572962149292900260 | 22165572962149292900260
Pool 1 Fee | 0.01% | 0.01%
Pool 3 Fee | 0.3% | 0.3%
Pool 1 Tick | 69001 | 69080  
Pool 3 Tick | 69188 | 69121  
Pool 1 Price (1 WETH) | 0.000000000000000992 | 0.000000000000000999
Pool 3 Price (1 WETH) | 0.00000000000000101 | 0.000000000000001004
Price Difference (%) | 1.8926 | 0.4151  
Gap Convergence | 78.07% of initial gap closed
Total Profit | 0.019730281325605952 WETH
Total Amount Swapped | 2.355485626079613066 WETH | Iterations: 39
-----------------------------+----------------------+----------------------

---

Pool 1 (0.01%) raw liquidity (L): 1902334260305641690320 | Reserves: 0.3 Token0, 300.03956294229595438 Token1
Pool 2 (0.05%) raw liquidity (L): 32453373440993689742288 | Reserves: 50.0 Token0, 50098.262020981354380197 Token1
Pool 3 (0.3%) raw liquidity (L): 22165572962149292900260 | Reserves: 20.0 Token0, 21428.844986800098728491 Token1
Pool 4 (1%) raw liquidity (L): 42250292038697277067543 | Reserves: 60.0 Token0, 70294.754815620129801766 Token1

=== SUMMARY: BEFORE vs AFTER ===
| INITIAL STATE | FINAL STATE
-----------------------------+----------------------+----------------------
Pool 1 Liquidity | 1902334260305641690320 | 1902334260305641690320
Pool 3 Liquidity | 22165572962149292900260 | 22165572962149292900260
Pool 1 Fee | 0.01% | 0.01%
Pool 3 Fee | 0.3% | 0.3%
Pool 1 Tick | 69081 | 69145  
Pool 3 Tick | 69188 | 69183  
Pool 1 Price (1 WETH) | 0.000000000000000999 | 0.000000000000001006
Pool 3 Price (1 WETH) | 0.00000000000000101 | 0.00000000000000101
Price Difference (%) | 1.0845 | 0.3806  
Gap Convergence | 64.91% of initial gap closed
Total Profit | 0.000807969787037868 WETH
Total Amount Swapped | 0.192502692273199008 WETH | Iterations: 32
-----------------------------+----------------------+----------------------
